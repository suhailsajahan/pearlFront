(this.webpackJsonppearl=this.webpackJsonppearl||[]).push([[0],{124:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(24),r=c.n(s),i=(c(74),c(75),c(76),c(11)),j=c(7),l=c(132),o=c(133),d=c(134),b=c(135),u=c(12),O=c.n(u),h=c(14),x=c(125),m=c(126),p=c(127),f=c(128),g=c(129),v=c(130),C=c(153),w=c(154),y=c(155),N=c(131),S=c(18),k=c(31),F=c.n(k);F.a.defaults.withCredentials=!0;var L=F.a.create({baseURL:"https://pearl-admin.herokuapp.com"}),E=c(1),P=Object(a.createContext)();function I(){return Object(a.useContext)(P)}function D(e){var t=Object(a.useState)(void 0),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(),i=Object(j.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(!0),b=Object(j.a)(d,2),u=b[0],x=b[1],m=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/admins/loggedIn");case 2:t=e.sent,s(t.data),x(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=!1;return e||m(),function(){e=!0}}),[]),Object(E.jsx)(P.Provider,{value:{loggedIn:n,getLoggedIn:m,currentUser:l,setCurrentUser:o},children:!u&&e.children})}var R=P,A=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),r=Object(j.a)(s,2),l=r[0],o=r[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),u=b[0],k=b[1],F=Object(i.g)(),P=Object(a.useContext)(R),I=P.getLoggedIn,D=P.currentUser,A=P.setCurrentUser,U=function(){var e=Object(h.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(""),e.prev=1,e.next=4,L.get("/admins/logout");case 4:return e.next=6,I();case 6:A(null),F.push("/login"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),k("Logout Failed"),alert(u);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(x.a,{dark:!0,expand:"md",children:Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)(m.a,{onClick:function(){n(!c)}})," ",Object(E.jsx)(p.a,{className:"mr-5 font-italic",href:"/home",children:"The Pearl"}),Object(E.jsx)(f.a,{isOpen:c,navbar:!0,children:Object(E.jsxs)(g.a,{navbar:!0,children:[Object(E.jsx)(v.a,{children:Object(E.jsxs)(S.c,{className:"nav-link",to:"/home",children:[Object(E.jsx)("span",{className:"fa fa-home fa-lg"})," Home"]})}),Object(E.jsx)(v.a,{children:Object(E.jsxs)(S.c,{className:"nav-link",to:"/managecards",children:[Object(E.jsx)("span",{className:"fa fa-address-card fa-lg"})," Manage Cards"]})}),Object(E.jsx)(v.a,{children:Object(E.jsxs)(S.c,{className:"nav-link",to:"/manageusers",children:[Object(E.jsx)("span",{className:"fa fa-users fa-lg"})," Manage Users"]})})]})}),Object(E.jsx)(g.a,{className:"ml-auto",navbar:!0,children:Object(E.jsx)(v.a,{children:Object(E.jsxs)(C.a,{isOpen:l,toggle:function(){o(!l)},children:[Object(E.jsx)(w.a,{className:"bg-transparent",outline:!0,children:Object(E.jsxs)("span",{className:"fa fa-user fa-lg",children:[" ",D]})}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)(N.a,{onClick:function(){return F.push("/signup")},children:Object(E.jsxs)("span",{className:"fa fa-cog fa-lg",children:[" ","Create a new account"]})}),Object(E.jsx)(N.a,{onClick:U,children:Object(E.jsx)("span",{className:"fa fa-sign-out fa-lg",children:" Logout"})})]})]})})})]})})})};var U=function(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),r=Object(j.a)(s,2),i=r[0],u=r[1],O=Object(a.useState)([]),h=Object(j.a)(O,2),x=h[0],m=h[1];return Object(a.useEffect)((function(){L.get("/users").then((function(e){u(e.data),n(!1)})).catch((function(){console.log("Error")})),L.get("/cards").then((function(e){m(e.data),n(!1)})).catch((function(){console.log("Error")}))}),[]),c?Object(E.jsxs)("div",{children:[Object(E.jsx)(A,{}),Object(E.jsx)(l.a,{className:"spinner",color:"info"})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)(A,{}),Object(E.jsx)(o.a,{children:Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row row-header",children:Object(E.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(E.jsx)("h1",{className:"font-italic",children:"The Pearl"}),Object(E.jsx)("h5",{children:"Welcome to the admin portal"})]})})})}),Object(E.jsx)(d.a,{style:{width:"60%",margin:"auto"},children:Object(E.jsxs)(b.a,{animated:!0,style:{flex:"auto",alignContent:"center",margin:"50px 50px",height:"30px"},value:i.length,children:[i.length," Users"]})}),Object(E.jsx)(d.a,{style:{width:"60%",margin:"auto"},children:Object(E.jsxs)(b.a,{animated:!0,color:"info",style:{flex:"auto",alignContent:"center",margin:"auto 50px",height:"30px"},value:x.length,children:[x.length," Cards"]})})]})},_=c(45),T=c(142),W=c(143),q=c(144),B=c(145),M=c(146),H=c(147),J=c(148),Y=c(66),z=c(149),G=c(150),K=c(141),Q=c(156),V=c(137),X=c(34),Z=c.n(X),$=c(136),ee=c(138),te=c(139),ce=c(140),ae=function(e){var t=e.onAdd,c=Object(a.useState)(""),n=Object(j.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)(""),u=Object(j.a)(b,2),O=u[0],h=u[1],x=Object(a.useState)(""),m=Object(j.a)(x,2),p=m[0],f=m[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),C=v[0],w=v[1],y=Object(a.useState)(!1),N=Object(j.a)(y,2),S=N[0],k=N[1],F=function(){k(!S)};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(Y.a,{className:"btn mt-2 mb-2 btn-info",onClick:F,children:[Object(E.jsx)("span",{className:"fa fa-plus fa-lg"})," Add a new card"]}),Object(E.jsxs)(Q.a,{isOpen:S,toggle:F,children:[Object(E.jsx)($.a,{toggle:F,children:"Add a card"}),Object(E.jsx)(V.a,{children:Object(E.jsxs)(ee.a,{children:[Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"name",children:"Name"}),Object(E.jsx)(K.a,{type:"text",value:s,id:"name",onChange:function(e){r(e.target.value)}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"type",children:"Type"}),Object(E.jsxs)(K.a,{type:"select",value:o,id:"type",onChange:function(e){d(e.target.value)},children:[Object(E.jsx)("option",{}),Object(E.jsx)("option",{children:"Wedding Invitation"}),Object(E.jsx)("option",{children:"Conference Invitation"})]})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"description",children:"Description"}),Object(E.jsx)(K.a,{type:"textarea",maxLength:"60",value:O,id:"description",onChange:function(e){h(e.target.value)}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"price",children:"Price"}),Object(E.jsx)(K.a,{type:"text",value:C,id:"price",onChange:function(e){w(e.target.value)}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"image",children:"Image"}),Object(E.jsx)("br",{}),Object(E.jsx)(Z.a,{multiple:!1,onDone:function(e){return function(e){f(e)}(e.base64)}})]}),Object(E.jsx)(Y.a,{type:"submit",value:"submit",className:"primary",onClick:function(e){e.preventDefault(),s&&O&&p&&C?(t({name:s,type:o,description:O,price:C,image:p}),r(""),d(""),h(""),f(""),w(""),F()):alert("Please fill the all parts")},children:"Add the card"})]})})]})]})},ne=function(e){var t=e.onEdit,c=e.card,n=c._id,s=Object(a.useState)(c.name),r=Object(j.a)(s,2),i=r[0],l=r[1],o=Object(a.useState)(c.type),d=Object(j.a)(o,2),b=d[0],u=d[1],O=Object(a.useState)(c.description),h=Object(j.a)(O,2),x=h[0],m=h[1],p=Object(a.useState)(c.image),f=Object(j.a)(p,2),g=f[0],v=f[1],C=Object(a.useState)(c.price),w=Object(j.a)(C,2),y=w[0],N=w[1],S=Object(a.useState)(!1),k=Object(j.a)(S,2),F=k[0],L=k[1],P=function(){L(!F)};return Object(E.jsxs)("div",{children:[Object(E.jsx)(Y.a,{className:"btn-sm bg-primary",block:!0,onClick:P,children:"Edit"}),Object(E.jsxs)(Q.a,{isOpen:F,toggle:P,children:[Object(E.jsx)($.a,{toggle:P,children:"Edit the card"}),Object(E.jsx)(V.a,{children:Object(E.jsxs)(ee.a,{children:[Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"id",children:"Id"}),Object(E.jsx)(K.a,{type:"text",value:n,id:"id",disabled:!0})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"name",children:"Name"}),Object(E.jsx)(K.a,{type:"text",value:i,id:"name",onChange:function(e){l(e.target.value)}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"type",children:"Type"}),Object(E.jsxs)(K.a,{type:"select",value:b,id:"type",onChange:function(e){u(e.target.value)},children:[Object(E.jsx)("option",{children:"Wedding Invitation"}),Object(E.jsx)("option",{children:"Conference Invitation"})]})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"description",children:"Description"}),Object(E.jsx)(K.a,{type:"textarea",maxLength:"60",value:x,id:"description",onChange:function(e){m(e.target.value)}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"price",children:"Price"}),Object(E.jsx)(K.a,{type:"text",value:y,id:"price",onChange:function(e){N(e.target.value)}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"image",children:"Image"}),Object(E.jsx)("br",{}),Object(E.jsx)(Z.a,{value:g,multiple:!1,onDone:function(e){return function(e){v(e)}(e.base64)}})]}),Object(E.jsx)(Y.a,{type:"submit",value:"submit",className:"primary",onClick:function(e){i&&x&&g&&y?(t({card_id:n,name:i,type:b,description:x,price:y,image:g}),l(""),u(""),m(""),v(""),N(""),P()):alert("Please fill the all parts")},children:"Save changes"})]})})]})]})},se=c(35),re=c.n(se),ie=(c(64),function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(j.a)(s,2),i=r[0],o=r[1],b=Object(a.useState)([]),u=Object(j.a)(b,2),x=u[0],m=u[1],p=Object(a.useState)([]),f=Object(j.a)(p,2),g=f[0],v=f[1],C=Object(a.useState)(!0),w=Object(j.a)(C,2),y=w[0],N=w[1],S=Object(a.useState)(!1),k=Object(j.a)(S,2),F=k[0],P=k[1],I=Object(a.useState)(),D=Object(j.a)(I,2),R=D[0],U=D[1],X=Object(a.useState)(0),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=4*$,ce=Math.ceil(x.length/4),se=function(){P(!F)},ie=function(){var e=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.post("/cards",t).then((function(){n([].concat(Object(_.a)(c),[t])),v([].concat(Object(_.a)(g),[t]))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(h.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.card_id,L.put("/cards",t).then((function(){n(c.map((function(e){return e.id===a?{card:t}:e}))),v(g.map((function(e){return e.id===a?{card:t}:e})))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All";v("All"===e?c:c.filter((function(t){return t.type===e})))};function oe(e){var t=e.card,c=e.onDelete;return Object(E.jsx)("div",{className:"container",children:Object(E.jsxs)(T.a,{style:{minWidth:"280px"},children:[Object(E.jsx)("span",{children:Object(E.jsx)(W.a,{color:"info",children:t.price})}),Object(E.jsx)(q.a,{top:!0,src:t.image,alt:"Invitation Card"}),Object(E.jsxs)(B.a,{children:[Object(E.jsxs)(M.a,{tag:"h5",children:[t.name," "]}),Object(E.jsxs)(H.a,{tag:"h6",className:"mb-2 text-muted",children:[t.type," ",t.new?Object(E.jsx)("span",{children:Object(E.jsx)(W.a,{pill:!0,color:"danger",children:"New"})}):Object(E.jsx)("div",{})]}),Object(E.jsx)(J.a,{style:{minHeight:"80px"},children:t.description}),Object(E.jsx)(ne,{onEdit:je,card:t})," ",Object(E.jsx)(Y.a,{className:"btn-sm bg-danger",block:!0,onClick:c,children:"Delete"})]})]})})}return Object(a.useEffect)((function(){m(0!==i.length?g.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())})):g)}),[i,g]),Object(a.useEffect)((function(){L.get("/cards").then((function(e){n(e.data),v(e.data),N(!1)})).catch((function(){console.log("Error")}))}),[]),y?Object(E.jsxs)("div",{children:[Object(E.jsx)(A,{}),Object(E.jsx)(l.a,{className:"spinner",color:"info"})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)(A,{}),Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsxs)(d.a,{children:[Object(E.jsx)(z.a,{xs:"12",sm:"5",md:"4 fluid",className:"m-auto center",children:Object(E.jsx)(ae,{onAdd:ie})}),Object(E.jsx)(z.a,{xs:"12",sm:"7",md:"4 fluid",className:"m-auto center",children:Object(E.jsxs)(G.a,{children:[Object(E.jsx)(Y.a,{color:"info",onClick:function(){return le("All")},children:"All"}),Object(E.jsx)(Y.a,{color:"info",onClick:function(){return le("Conference Invitation")},children:"Conference"}),Object(E.jsx)(Y.a,{color:"info",onClick:function(){return le("Wedding Invitation")},children:"Wedding"})]})}),Object(E.jsx)(z.a,{xs:"12",sm:"12",md:"4 fluid",className:"m-auto center",children:Object(E.jsx)(K.a,{type:"search",placeholder:"Search",onChange:function(e){return o(e.target.value)}})})]}),Object(E.jsx)(d.a,{children:Object(E.jsx)("div",{className:"row",children:c.length>0?x.slice(te,te+4).map((function(e){return Object(E.jsx)("div",{className:"col-sm-4 col-md-3",children:Object(E.jsx)(oe,{card:e,onDelete:function(){se(),U(e._id)}})},e._id)})):"No cards to show"})}),Object(E.jsx)(d.a,{children:Object(E.jsx)(re.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:ce,onPageChange:function(e){var t=e.selected;ee(t)},containerClassName:"paginationBtn",activeClassName:"paginationActive"})})]}),Object(E.jsx)("div",{children:Object(E.jsx)(Q.a,{isOpen:F,toggle:se,children:Object(E.jsxs)(V.a,{children:["Do you want to delete this card?",Object(E.jsx)("br",{}),Object(E.jsx)(Y.a,{style:{margin:"auto"},onClick:function(){return e=R,L.delete("/cards/".concat(e)).then((function(){n(c.filter((function(t){return t.id!==e}))),v(g.filter((function(t){return t.id!==e})))})),se(),void window.location.reload();var e},children:"Yes, Delete this card"}),Object(E.jsx)(Y.a,{style:{margin:"0px 10px"},onClick:function(){return se()},children:"Cancel"})]})})})]})}),je=c(20),le=c(151),oe=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),r=Object(j.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),u=b[0],x=b[1],m=Object(a.useState)(!1),p=Object(j.a)(m,2),f=p[0],g=p[1],v=Object(a.useState)(!1),C=Object(j.a)(v,2),w=C[0],y=C[1],N=Object(a.useState)([]),S=Object(j.a)(N,2),k=S[0],F=S[1],P=Object(a.useState)(!0),I=Object(j.a)(P,2),D=I[0],R=I[1],U=Object(a.useState)(0),_=Object(j.a)(U,2),T=_[0],W=_[1],q=Object(a.useState)(),B=Object(j.a)(q,2),M=B[0],H=B[1],J=7*T,z=Math.ceil(i.length/7),X=function(){var e=Object(h.a)(O.a.mark((function e(t){var a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.put("/users",t);case 2:a=e.sent,s=a.data.id,n(c.map((function(e){return e.id===s?Object(je.a)({},a.data):e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){o(0!==u.length?c.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())||e.email.toLowerCase().includes(u.toLowerCase())})):c)}),[u,c]),Object(a.useEffect)((function(){L.get("/users").then((function(e){n(e.data),R(!1)})).catch((function(){console.log("Error")}))}),[]);var Z=function(){g(!f)},ae=function(){y(!w)},ne=i.slice(J,J+7).map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:J+t+1}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.email}),Object(E.jsx)("td",{children:e.description}),Object(E.jsx)("td",{children:Object(E.jsxs)(G.a,{className:"btn-group-sm",children:[Object(E.jsxs)(Y.a,{color:"primary",onClick:function(){Z(),F(e)},children:[Object(E.jsx)("span",{className:"fa fa-edit"})," Edit"]}),Object(E.jsxs)(Y.a,{color:"danger",onClick:function(){ae(),H(e._id)},children:[Object(E.jsx)("span",{className:"fa fa-trash-o"})," Delete"]})]})})]},t)}));return D?Object(E.jsxs)("div",{children:[Object(E.jsx)(A,{}),Object(E.jsx)(l.a,{className:"spinner",color:"info"})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)(A,{}),Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)(K.a,{className:"w-25 mr-auto mt-2 mb-2",type:"search",placeholder:"Search",onChange:function(e){return x(e.target.value)}}),Object(E.jsxs)(le.a,{hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Name of the user"}),Object(E.jsx)("th",{children:"Email ID"}),Object(E.jsx)("th",{children:"Description"}),Object(E.jsx)("th",{children:"Edit/Delete"})]})}),Object(E.jsx)("tbody",{children:c.length>0?ne:Object(E.jsx)("tr",{children:Object(E.jsx)("td",{children:"No users to show"})})})]}),Object(E.jsx)(re.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:z,onPageChange:function(e){var t=e.selected;W(t)},containerClassName:"paginationBtn",activeClassName:"paginationActive"}),Object(E.jsxs)(Q.a,{isOpen:f,toggle:Z,children:[Object(E.jsx)($.a,{toggle:Z,children:"Edit User"}),Object(E.jsx)(V.a,{children:Object(E.jsxs)(ee.a,{children:[Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"id",children:"Id"}),Object(E.jsx)(K.a,{type:"text",value:k._id,id:"id",disabled:!0})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"name",children:"Name"}),Object(E.jsx)(K.a,{type:"text",value:k.name,id:"name",onChange:function(e){F(Object(je.a)(Object(je.a)({},k),{},{name:e.target.value}))}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"email",children:"Email"}),Object(E.jsx)(K.a,{type:"email",value:k.email,id:"email",onChange:function(e){F(Object(je.a)(Object(je.a)({},k),{},{email:e.target.value}))}})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"description",children:"Description"}),Object(E.jsx)(K.a,{type:"textarea",value:k.description,id:"description",onChange:function(e){F(Object(je.a)(Object(je.a)({},k),{},{description:e.target.value}))}})]}),Object(E.jsx)(Y.a,{type:"submit",value:"submit",className:"primary",onClick:function(e){k.name&&k.description&&k.email?(X({user_id:k._id,name:k.name,email:k.email,description:k.description}),Z()):alert("Please fill the all parts")},children:"Update User"})]})})]}),Object(E.jsx)(Q.a,{isOpen:w,toggle:ae,children:Object(E.jsxs)(V.a,{children:["Do you want to delete this user?",Object(E.jsx)("br",{}),Object(E.jsx)(Y.a,{style:{margin:"auto"},onClick:function(){return e=M,L.delete("/users/".concat(e)).then((function(){n(c.filter((function(t){return t.id!==e}))),o(i.filter((function(t){return t.id!==e})))})),ae(),void window.location.reload();var e},children:"Yes, Delete this user"}),Object(E.jsx)(Y.a,{style:{margin:"0px 10px"},onClick:function(){return ae()},children:"Cancel"})]})})]})]})},de=c(152);var be=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useState)(""),n=Object(j.a)(c,2),s=n[0],r=n[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],u=d[1],x=Object(a.useContext)(R),m=x.getLoggedIn,p=x.setCurrentUser,f=Object(i.g)();function g(){return(g=Object(h.a)(O.a.mark((function c(a){var n;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,n={email:e.current.value,password:t.current.value},r(""),u(!0),c.next=7,L.post("/admins/login/",n);case 7:return c.next=9,m();case 9:p(e.current.value),f.push("/home"),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(1),r("Failed to Login");case 16:u(!1);case 17:case"end":return c.stop()}}),c,null,[[1,13]])})))).apply(this,arguments)}return Object(E.jsxs)("div",{className:!0,children:[Object(E.jsx)(o.a,{children:Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row row-header",children:Object(E.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(E.jsx)("h1",{className:"font-italic",children:"The Pearl"}),Object(E.jsx)("h5",{children:"Welcome to the Login page"})]})})})}),Object(E.jsx)(T.a,{className:"col-10 col-sm-6 m-auto",children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)(M.a,{tag:"h5",children:"Login"}),s&&Object(E.jsx)(de.a,{color:"danger",children:s}),Object(E.jsxs)(ee.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"email",children:"Email"}),Object(E.jsx)(K.a,{type:"email",id:"email",name:"email  ",innerRef:e,required:!0})]}),Object(E.jsxs)(te.a,{children:[Object(E.jsx)(ce.a,{htmlFor:"password",children:"Password"}),Object(E.jsx)(K.a,{type:"password",id:"password",name:"password",innerRef:t,required:!0})]}),Object(E.jsx)(te.a,{children:Object(E.jsx)(Y.a,{disabled:b,type:"submit",className:"mt-2 primary btn-block",children:"Login"})})]})]})})]})};function ue(){var e=Object(a.useRef)(),t=I().resetPassword,c=Object(a.useState)(""),n=Object(j.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)(!1),u=Object(j.a)(b,2),x=u[0],m=u[1];function p(){return(p=Object(h.a)(O.a.mark((function c(a){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,d(""),r(""),m(!0),c.next=7,t(e.current.value);case 7:d("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r("Failed to reset password");case 13:m(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(z.a,{sm:"12",md:{size:6,offset:3},children:[Object(E.jsx)("div",{className:"w-100 mt-2",children:Object(E.jsx)(S.b,{to:"/",children:"Go back"})}),Object(E.jsx)("h3",{className:"text-center mb-3",children:"Password Reset"}),s&&Object(E.jsx)(de.a,{color:"danger",children:s}),o&&Object(E.jsx)(de.a,{color:"success",children:o}),Object(E.jsxs)(ee.a,{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(E.jsxs)(te.a,{id:"email",children:[Object(E.jsx)(ce.a,{children:"Email"}),Object(E.jsx)(K.a,{type:"email",innerRef:e,required:!0})]}),Object(E.jsx)(Y.a,{disabled:x,className:"w-100",type:"submit",children:"Reset Password"})]})]})})}var Oe=c(69);function he(e){var t=e.component,c=Object(Oe.a)(e,["component"]),a=I().loggedIn;return Object(E.jsx)(i.b,Object(je.a)(Object(je.a)({},c),{},{render:function(e){return a?Object(E.jsx)(t,Object(je.a)({},e)):Object(E.jsx)(i.a,{to:"/login"})}}))}function xe(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),n=Object(a.useState)(""),s=Object(j.a)(n,2),r=s[0],l=s[1],o=Object(a.useState)(!1),d=Object(j.a)(o,2),b=d[0],u=d[1],x=Object(a.useContext)(R).getLoggedIn,m=Object(i.g)();function p(){return(p=Object(h.a)(O.a.mark((function a(n){var s;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),t.current.value===c.current.value){a.next=3;break}return a.abrupt("return",l("Passwords do not match"));case 3:return a.prev=3,s={email:e.current.value,password:t.current.value,confirmPassword:c.current.value},l(""),u(!0),a.next=9,L.post("/admins/",s);case 9:return a.next=11,x();case 11:m.push("/home"),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(3),l("Failed to create an account");case 17:u(!1);case 18:case"end":return a.stop()}}),a,null,[[3,14]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(T.a,{className:"col-10 col-sm-6 m-auto",children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),r&&Object(E.jsx)(de.a,{variant:"danger",children:r}),Object(E.jsxs)(ee.a,{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(E.jsxs)(te.a,{id:"email",children:[Object(E.jsx)(ce.a,{children:"Email"}),Object(E.jsx)(K.a,{type:"email",innerRef:e,required:!0})]}),Object(E.jsxs)(te.a,{id:"password",children:[Object(E.jsx)(ce.a,{children:"Password"}),Object(E.jsx)(K.a,{type:"password",innerRef:t,required:!0})]}),Object(E.jsxs)(te.a,{id:"password-confirm",children:[Object(E.jsx)(ce.a,{children:"Password Confirmation"}),Object(E.jsx)(K.a,{type:"password",innerRef:c,required:!0})]}),Object(E.jsx)(Y.a,{disabled:b,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(E.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(E.jsx)(S.b,{to:"/login",children:"Log In"})]})]})}var me=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(D,{children:Object(E.jsxs)(i.d,{children:[Object(E.jsx)(he,{exact:!0,path:"/home",component:U}),Object(E.jsx)(he,{exact:!0,path:"/managecards",component:ie}),Object(E.jsx)(he,{exact:!0,path:"/manageusers",component:oe}),Object(E.jsx)(i.b,{path:"/login",component:be}),Object(E.jsx)(he,{path:"/signup",component:xe}),Object(E.jsx)(i.b,{exact:!0,path:"/forgot-password",component:ue}),Object(E.jsx)(i.a,{to:"/login"})]})})})};F.a.defaults.withCredentials=!0;var pe=function(){return Object(E.jsx)(S.a,{children:Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(me,{})})})},fe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,157)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(E.jsx)(n.a.Fragment,{children:Object(E.jsx)(pe,{})}),document.getElementById("root")),fe()},64:function(e,t,c){}},[[124,1,2]]]);
//# sourceMappingURL=main.78da1157.chunk.js.map